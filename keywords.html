<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="stylesheet" href="styles/main.css" />
    <title>Java 1Z0-819 Prep</title>
</head>

<body onload="getURL()">
    <div class="container">
        <header class="header">
            <h1 class="header__title">Java 1Z0-819 Prep</h1>
            <nav class="nav">
                <ul class="nav__links">
                    <li class="nav__item">
                        <a href="./index.html" class="nav__link">Content</a>
                    </li>
                    <li class="nav__item">
                        <a href="./overview.html" class="nav__link">Overview</a>
                    </li>
                    <li class="nav__item">
                        <a href="#" class="nav__link nav__link--active">Keywords</a>
                    </li>
                    <li class="nav__item">
                        <a href="./contact.html" class="nav__link">Contact</a>
                    </li>
                    <li class="nav__item nav__theme">
                        <svg class="nav__theme-icon">
                            <use xlink:href="src/sprite.svg#icon-brightness-contrast"></use>
                        </svg>
                    </li>
                </ul>
            </nav>
        </header>
        <main>
            <div class="search-container">
                <input type="search" name="search" id="search" class="search-bar" placeholder="search..."
                    onkeyup="searchFunction()" onchange="searchFunction()">
            </div>
            <ul class="keywords"></ul>
        </main>
    </div>

    <script src="./javascript/theme.js"></script>
    <script src="./javascript/keywords.js"></script>
    <script>
        const searchFunction = () => {
            var input, filter, ul, li;
            input = document.getElementById("search");
            filter = input.value.toUpperCase();
            ul = document.querySelector(".keywords");
            li = ul.getElementsByTagName('li');

            for (i = 0; i < li.length; i++) {
                key = li[i].getElementsByTagName("summary")[0].firstChild.data;
                if (key.toUpperCase().indexOf(filter) > -1) {
                    li[i].style.display = "";
                }
                else {
                    li[i].style.display = "none";
                }
            }
        }

        const getURL = () => {
            const url = window.location.href;
            const hashIdx = url.indexOf('#');

            if (hashIdx > -1) {
                filter = url.substring(hashIdx + 1);
                input = document.getElementById("search");
                input.value = filter;
                searchFunction();
            }
        }
    </script>
</body>

</html>