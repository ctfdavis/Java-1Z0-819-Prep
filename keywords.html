<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="shortcut icon" href="src/favicon.png" type="image/x-icon">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Maven+Pro&family=Julius+Sans+One&family=Montserrat:ital,wght@0,400;0,500;1,400&family=Srisakdi:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles/main.css" />
    <title>Java 1Z0-819 Prep</title>
</head>

<body onload="getURL()">
    <div class="container">
        <button class="backToTop">
            <svg class="backToTop__icon">
                <use xlink:href="./src/sprite.svg#icon-arrow-up"></use>
            </svg>
        </button>
        <button class="theme">
            <svg class="theme__icon">
                <use class="theme__icon--light" xlink:href="./src/sprite.svg#icon-sun"></use>
                <use class="theme__icon--dark" xlink:href="./src/sprite.svg#icon-moon"></use>
            </svg>
        </button>
        <div class="size-control">
            <button class="size-control__icon size-control__icon-plus">
                <svg>
                    <use xlink:href="./src/sprite.svg#icon-plus"></use>
                </svg>
            </button>
            <button class="size-control__icon size-control__icon-minus">
                <svg>
                    <use xlink:href="./src/sprite.svg#icon-minus"></use>
                </svg>
            </button>
        </div>
        <header class="header">
            <h1 class="header__title">Keywords</h1>
            <nav class="nav">
                <button class="nav__icon">
                    <svg class="nav__icon__svg">
                        <use xlink:href="./src/sprite.svg#icon-more"></use>
                        <use xlink:href="./src/sprite.svg#icon-x"></use>
                    </svg>
                </button>
                <ul class="nav__links">
                    <li class="nav__item">
                        <a href="./index.html" class="nav__link">Content</a>
                    </li>
                    <li class="nav__item">
                        <a href="./overview.html" class="nav__link">Overview</a>
                    </li>
                    <li class="nav__item">
                        <a href="#" class="nav__link nav__link--active">Keywords</a>
                    </li>
                    <li class="nav__item">
                        <a href="./contact.html" class="nav__link">Contact</a>
                    </li>
                </ul>
            </nav>
        </header>
        <main>
            <div class="search-container">
                <input type="search" name="search" id="search" class="search-bar" placeholder="search..." onkeyup="searchFunction()" onsearch="this.onkeyup();" onchange="searchFunction()">
            </div>
            <!-- <ul class="keywords"></ul> -->
            <div class="cards"></div>
        </main>
    </div>

    <script src="./javascript/nav.js"></script>
    <script src="./javascript/backToTop.js"></script>
    <script src="./javascript/sizeControl.js"></script>
    <script src="./javascript/theme.js"></script>
    <script src="./javascript/keywords.js"></script>
    <!-- <script src="./javascript/keywordsPage.js"></script> -->
    <script src="./javascript/keywordsPage_new.js"></script>
    <script>
        const searchFunction = () => {
            var input, filter, ul, li;
            input = document.getElementById("search");
            filter = input.value.toUpperCase();
            cards = document.querySelector(".cards");
            card = cards.querySelectorAll(".card");
            if (input.value.length < 1) {
                cards.style.gridTemplateColumns = "repeat(auto-fit, minmax(25rem, 1fr))";
            } else {
                cards.style.gridTemplateColumns = "repeat(auto-fit, 30rem)";
            }

            // for (i = 0; i < li.length; i++) {
            //     key = li[i].getElementsByTagName("summary")[0].firstChild.data;
            //     if (input.value === "") {
            //         li[i].firstElementChild.open = false;
            //     }
            //     if (key.toUpperCase().indexOf(filter) > -1) {
            //         li[i].style.display = "";
            //         if (key.toUpperCase() === filter) {
            //             li[i].firstElementChild.open = true;
            //         }
            //     }
            //     else {
            //         if (input.value === "") {
            //             li[i].style.display = "";
            //         } else {
            //             li[i].style.display = "none";
            //         }
            //     }
            // }

            for (i = 0; i < card.length; i++) {
                key = card[i].querySelector(".card__title").innerHTML;
                if (key.toUpperCase().indexOf(filter) > -1) {
                    card[i].style.display = "";
                } else {
                    if (input.value === "") {
                        card[i].style.display = "";
                    } else {
                        card[i].style.display = "none";
                    }
                }
            }
        }

        const getURL = () => {
            const url = window.location.href;
            const hashIdx = url.indexOf('#');

            if (hashIdx > -1) {
                filter = url.substring(hashIdx + 1);
                /*check if the filter contains space(s), if so remove them*/
                filter = filter.replace('%20', ' ');
                input = document.getElementById("search");
                input.value = filter;
                searchFunction();
            }
        }
    </script>
</body>

</html>